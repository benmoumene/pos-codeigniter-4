{% extends "layouts/adminlite/adminlite3.html" %}

{% block title %} Create Category {% endblock %}

{% block head %}
    {{ parent() }}
{% endblock %}



{% block pagecontent %}

<div class="container">




    <div class="row justify-content-center">
        <div class="col-6">
              <div class="card shadow mb-4">
                  <div class="card-header py-3">
                      <h6 class="m-0 font-weight-bold text-primary">{{ category ? 'Edit This category' : 'Create New category' }}</h6>
                  </div>
                  <div class="card-body">
                    
                    {% import "macros/forms.html" as forms %}
                    
                  
                     
                   <form method="post" action='{{ category ? site_url("cat/update/#{category.id}") : site_url("cat/store")  }}'>
                        {{ csrf|raw }}
                        <div class="form-group">
                            <label for="parentcategory">Parent Category:</label>
                            <select class="form-control" name="parent" id="parentcategory">
                                <option value="0"> No Parent category</option>
                             {% for cat in categories %}
                              <option value="{{cat.id}}" {{ (cat.getId() == category.getParentId() ) ? 'selected' }}>{{cat.name}}</option>
                             {% endfor %}
                            </select>
                        </div>
                        {{ forms.input("name", category.name , "Category Name:") }}
                        
                        <button type="submit" class="btn btn-sm btn-primary float-right">Submit</button>
                      
                         
                        
                           
                     </form>
                  </div>
              </div>
        </div>
    </div>
</div>

{% endblock %}




{% block script %}
    {{ parent() }}

{% endblock %}